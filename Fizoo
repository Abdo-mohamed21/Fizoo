<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dental Material</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:0; direction:rtl; }
    header { background:#0066a2; color:#fff; padding:16px; text-align:center; font-size:1.5em; }
    .container { max-width:900px; margin:auto; padding:16px; }
    .tabs { display:flex; gap:8px; margin-bottom:16px; flex-wrap:wrap; }
    .tab { background:#ddd; padding:8px 12px; border-radius:6px; cursor:pointer; }
    .tab.active { background:#0066a2; color:#fff; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(220px,1fr)); gap:12px; }
    .card { background:#fff; border-radius:8px; padding:12px; box-shadow:0 1px 4px rgba(0,0,0,0.1); }
    .price { font-weight:bold; margin:8px 0; color:#0066a2; }
    .controls { display:flex; gap:8px; align-items:center; }
    input[type=number] { width:60px; padding:5px; }
    button { background:#0066a2; color:#fff; border:none; padding:6px 10px; border-radius:4px; cursor:pointer; }
    #cartbar { position:fixed; bottom:16px; left:16px; right:16px; background:#fff; padding:12px; box-shadow:0 6px 20px rgba(0,0,0,0.1); display:none; border-radius:8px; }
    #orderList { max-height:200px; overflow:auto; margin-top:8px; }
    .order-item { display:flex; justify-content:space-between; border-bottom:1px dashed #ccc; padding:6px 0; }
  </style>
</head>
<body>
  <header>Dental Material</header>
  <div class="container">
    <div class="tabs" id="tabs"></div>
    <div class="grid" id="items"></div>
  </div>
  <div id="cartbar">
    <div><strong>الإجمالي:</strong> <span id="total">0</span> جنيه</div>
    <div id="orderList"></div>
    <button id="sendOrder">إرسال الطلب</button>
  </div>

  <script>
    const data = {
      "2ND": [
        { name: "Package A", price:11975 },
        { name: "Package B", price:11075 },
        { name: "Package C", price:10385 },
        { name: "Package D", price:8690 },
        { name: "Package K", price:13300 },
        { name: "Micromotor strong 210", price:6200 },
        { name: "Micromotor strong b350", price:8600 },
        { name: "Straight handpiece DH", price:900 },
        { name: "Bur for straight handpiece", price:30 },
        { name: "oil china 300ml", price:130 },
        { name: "Oil contra Italian BMS", price:540 },
        { name: "torch small", price:90 },
        { name: "torch medium", price:155 },
        { name: "torch large", price:260 },
        { name: "gas for torch", price:40 }
      ],
      "hand instrument": [
        { name:"mirror handle and head", price:45 },
        { name:"Tweezer", price:50 },
        // … (اكمل باقي العناصر)
      ],
      // أضف باقي الأقسام بنفس الأسلوب…
    };

    let cart = {}, activeCat = Object.keys(data)[0];
    const tabsEl = document.getElementById('tabs'), itemsEl = document.getElementById('items');
    const cartbar = document.getElementById('cartbar'), totalEl = document.getElementById('total'), orderList = document.getElementById('orderList');

    function renderTabs() {
      tabsEl.innerHTML = '';
      Object.keys(data).forEach(cat => {
        const t = document.createElement('div');
        t.className = 'tab' + (cat===activeCat?' active':'');
        t.textContent = cat;
        t.onclick = () => { activeCat = cat; renderTabs(); renderItems(); };
        tabsEl.appendChild(t);
      });
    }

    function renderItems() {
      itemsEl.innerHTML = '';
      data[activeCat].forEach((it, idx) => {
        const card = document.createElement('div'); card.className='card';
        card.innerHTML = `<h4>${it.name}</h4><div class="price">${it.price} LE</div>
          <div class="controls">
            <input type="number" id="qty${idx}" min="1" value="1">
            <button onclick="addToCart(${idx})">إضافة</button>
          </div>`;
        itemsEl.appendChild(card);
      });
    }

    function addToCart(idx) {
      const item = data[activeCat][idx];
      const qty = parseInt(document.getElementById(`qty${idx}`).value) || 1;
      const key = activeCat + '_' + idx;
      cart[key] = cart[key] || {item, qty:0};
      cart[key].qty += qty;
      updateCart();
    }

    function updateCart() {
      orderList.innerHTML = ''; let tot = 0;
      Object.values(cart).forEach(o => {
        const div = document.createElement('div'); div.className='order-item';
        div.innerHTML = `<span>${o.item.name} × ${o.qty}</span><span>${o.item.price*o.qty} جنيه</span>`;
        orderList.appendChild(div);
        tot += o.item.price * o.qty;
      });
      totalEl.textContent = tot;
      cartbar.style.display = tot>0?'block':'none';
    }

    document.getElementById('sendOrder').onclick = () => {
      let body = 'طلب مواد:%0A%0A';
      Object.values(cart).forEach(o => body += `${o.item.name} × ${o.qty} = ${o.item.price*o.qty} جنيه%0A`);
      body += `%0Aالإجمالي: ${totalEl.textContent} جنيه`;
      window.location.href = `mailto:your@email.com?subject=طلب%20موقع&body=${body}`;
    };

    renderTabs(); renderItems();
  </script>
</body>
</html>
